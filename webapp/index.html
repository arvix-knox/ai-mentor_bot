<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mentor Control Room</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/webapp/assets/css/app.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="bg-noise"></div>
  <div class="layout">
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-badge">M</div>
        <div>
          <h1>Mentor Room</h1>
          <p id="userCaption">–∑–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
      </div>
      <nav class="nav">
        <button class="nav-btn active" data-tab="dashboard">–î–∞—à–±–æ—Ä–¥</button>
        <button class="nav-btn" data-tab="tasks">–ó–∞–¥–∞—á–∏</button>
        <button class="nav-btn" data-tab="habits">–ü—Ä–∏–≤—ã—á–∫–∏</button>
        <button class="nav-btn" data-tab="mentor">–ò–ò –ú–µ–Ω—Ç–æ—Ä</button>
        <button class="nav-btn" data-tab="learning">–û–±—É—á–µ–Ω–∏–µ</button>
        <button class="nav-btn" data-tab="playlist">–ü–ª–µ–π–ª–∏—Å—Ç—ã</button>
        <button class="nav-btn" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      </nav>
      <div class="sidebar-foot">
        <small>Telegram Web App</small>
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div>
          <h2 id="mentorHeader">–ñ–µ–ª–µ–∑–Ω—ã–π –º–µ–Ω—Ç–æ—Ä</h2>
          <p id="mentorSubtitle">–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞, —Ñ–æ–∫—É—Å, –¥–µ–π—Å—Ç–≤–∏–µ</p>
        </div>
        <button id="refreshBtn" class="pill">–û–±–Ω–æ–≤–∏—Ç—å</button>
      </header>

      <section class="tab active" id="tab-dashboard">
        <div class="grid stats-grid">
          <article class="card stat">
            <span>–£—Ä–æ–≤–µ–Ω—å</span>
            <strong id="statLevel">-</strong>
          </article>
          <article class="card stat">
            <span>XP</span>
            <strong id="statXp">-</strong>
          </article>
          <article class="card stat">
            <span>Discipline</span>
            <strong id="statDiscipline">-</strong>
          </article>
          <article class="card stat">
            <span>Growth</span>
            <strong id="statGrowth">-</strong>
          </article>
        </div>

        <div class="grid two">
          <article class="card">
            <div class="card-head">
              <h3>–ü–ª–∞–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</h3>
              <button id="todayPlanBtn" class="pill secondary">–°–æ–±—Ä–∞—Ç—å</button>
            </div>
            <pre id="todayPlan" class="plan">–ù–∞–∂–º–∏ "–°–æ–±—Ä–∞—Ç—å"</pre>
          </article>

          <article class="card">
            <h3>–ü—Ä–æ–≥—Ä–µ—Å—Å —Å–µ–≥–æ–¥–Ω—è</h3>
            <div class="columns">
              <div>
                <h4>–ù–µ —Å–¥–µ–ª–∞–Ω–æ</h4>
                <ul id="todoToday" class="list"></ul>
              </div>
              <div>
                <h4>–°–¥–µ–ª–∞–Ω–æ</h4>
                <ul id="doneToday" class="list"></ul>
              </div>
            </div>
          </article>
        </div>

        <article class="card">
          <h3>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
          <div id="achievements" class="chips"></div>
        </article>
      </section>

      <section class="tab" id="tab-tasks">
        <div class="grid two">
          <article class="card">
            <h3>–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h3>
            <form id="taskForm" class="form">
              <input name="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏" required />
              <div class="row">
                <select name="priority">
                  <option value="low">Low</option>
                  <option value="medium" selected>Medium</option>
                  <option value="high">High</option>
                  <option value="critical">Critical</option>
                </select>
                <input type="date" name="deadline" />
              </div>
              <div class="row">
                <select name="recurrence_type">
                  <option value="">–ë–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</option>
                  <option value="daily">–ö–∞–∂–¥—ã–π –¥–µ–Ω—å</option>
                  <option value="weekly">–ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é</option>
                  <option value="monthly">–ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü</option>
                  <option value="on_date">–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –¥–∞—Ç–∞</option>
                </select>
                <input type="date" name="recurrence_date" />
              </div>
              <div class="row">
                <input type="time" name="remind_time" />
                <input name="remind_text" placeholder="–¢–µ–∫—Å—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è" />
              </div>
              <button class="pill" type="submit">–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</button>
            </form>
          </article>

          <article class="card">
            <h3>–ü–æ–ª–µ–∑–Ω–∞—è –∑–∞–¥–∞—á–∞ (–±—ã—Å—Ç—Ä–æ)</h3>
            <form id="quickTaskForm" class="form">
              <input name="title" placeholder="–ß—Ç–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ —Ç—ã —Å–¥–µ–ª–∞–ª?" required />
              <select name="difficulty">
                <option value="low">–õ–µ–≥–∫–æ</option>
                <option value="medium" selected>–°—Ä–µ–¥–Ω–µ</option>
                <option value="high">–°–ª–æ–∂–Ω–æ</option>
                <option value="critical">–û—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ</option>
              </select>
              <button class="pill secondary" type="submit">–ù–∞—á–∏—Å–ª–∏—Ç—å XP</button>
            </form>
          </article>
        </div>
        <article class="card">
          <h3>–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á</h3>
          <div id="tasksList" class="stack"></div>
        </article>
      </section>

      <section class="tab" id="tab-habits">
        <div class="grid two">
          <article class="card">
            <h3>–ù–æ–≤–∞—è –ø—Ä–∏–≤—ã—á–∫–∞</h3>
            <form id="habitForm" class="form">
              <div class="row">
                <input name="emoji" placeholder="‚úÖ" value="‚úÖ" />
                <input name="name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏" required />
              </div>
              <div class="row">
                <input type="time" name="remind_time" value="21:00" />
                <input name="remind_text" placeholder="–¢–µ–∫—Å—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è" />
              </div>
              <button class="pill" type="submit">–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</button>
            </form>
          </article>
          <article class="card">
            <h3>–°–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏</h3>
            <div id="habitsList" class="stack"></div>
          </article>
        </div>
      </section>

      <section class="tab" id="tab-mentor">
        <div class="grid two">
          <article class="card">
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ–Ω—Ç–æ—Ä–∞</h3>
            <form id="mentorForm" class="form">
              <input name="mentor_name" placeholder="–ò–º—è –º–µ–Ω—Ç–æ—Ä–∞" />
              <select name="mentor_persona">
                <option value="goggins">Goggins discipline</option>
                <option value="strict">Strict</option>
                <option value="adaptive">Adaptive</option>
                <option value="soft">Soft</option>
              </select>
              <button class="pill" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
          </article>
          <article class="card">
            <h3>–ß–∞—Ç —Å –º–µ–Ω—Ç–æ—Ä–æ–º</h3>
            <div id="chatLog" class="chat-log"></div>
            <form id="chatForm" class="chat-form">
              <input name="message" placeholder="–°–ø—Ä–æ—Å–∏: —á—Ç–æ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è?" required />
              <button class="pill secondary" type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </form>
          </article>
        </div>
      </section>

      <section class="tab" id="tab-learning">
        <div class="grid two">
          <article class="card">
            <h3>–î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å</h3>
            <form id="learningForm" class="form">
              <select name="resource_type">
                <option value="article">–°—Ç–∞—Ç—å—è</option>
                <option value="video">–í–∏–¥–µ–æ</option>
                <option value="course">–ö—É—Ä—Å</option>
                <option value="summary">–ö—Ä–∞—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ</option>
              </select>
              <input name="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required />
              <input name="topic" placeholder="–¢–µ–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä FastAPI)" />
              <input name="url" placeholder="–°—Å—ã–ª–∫–∞" />
              <button class="pill" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
          </article>
          <article class="card">
            <h3>–ü–æ–¥–±–æ—Ä –ø–æ —Ç–µ–º–µ</h3>
            <form id="suggestForm" class="form">
              <input name="topic" placeholder="–¢–µ–º–∞ –¥–ª—è –ø–æ–¥–±–æ—Ä–∫–∏" required />
              <button class="pill secondary" type="submit">–ü–æ–¥–æ–±—Ä–∞—Ç—å</button>
            </form>
            <div id="suggestions" class="stack"></div>
          </article>
        </div>
        <article class="card">
          <h3>–ú–æ–∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</h3>
          <div id="learningList" class="stack"></div>
        </article>
      </section>

      <section class="tab" id="tab-playlist">
        <div class="grid two">
          <article class="card">
            <h3>–ù–æ–≤—ã–π –ø–ª–µ–π–ª–∏—Å—Ç</h3>
            <form id="playlistForm" class="form">
              <div class="row">
                <input name="emoji" value="üéµ" />
                <input name="name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞" required />
              </div>
              <button class="pill" type="submit">–°–æ–∑–¥–∞—Ç—å</button>
            </form>
            <div id="playlistList" class="stack"></div>
          </article>
          <article class="card">
            <h3>–¢—Ä–µ–∫–∏ –ø–ª–µ–π–ª–∏—Å—Ç–∞</h3>
            <form id="trackForm" class="form">
              <input name="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞" required />
              <input name="performer" placeholder="–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å" />
              <input name="url" placeholder="–°—Å—ã–ª–∫–∞/ID —Ç—Ä–µ–∫–∞" />
              <button class="pill secondary" type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
            </form>
            <div id="trackList" class="stack"></div>
          </article>
        </div>
      </section>

      <section class="tab" id="tab-settings">
        <div class="grid two">
          <article class="card">
            <h3>–ü—Ä–∞–≤–∞ –ò–ò</h3>
            <div id="aiPerms" class="stack"></div>
          </article>
          <article class="card">
            <h3>–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö</h3>
            <div class="stack">
              <button class="pill warning" data-cleanup-history="day">–£–¥–∞–ª–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞ –¥–µ–Ω—å</button>
              <button class="pill warning" data-cleanup-history="week">–£–¥–∞–ª–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞ –Ω–µ–¥–µ–ª—é</button>
              <button class="pill warning" data-cleanup-history="month">–£–¥–∞–ª–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞ –º–µ—Å—è—Ü</button>
              <button class="pill warning" data-cleanup-history="year">–£–¥–∞–ª–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞ –≥–æ–¥</button>
              <button class="pill danger" id="deleteProfileBtn">–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é</button>
            </div>
          </article>
        </div>
      </section>
    </main>
  </div>

  <div id="toast" class="toast"></div>
  <script type="module" src="/webapp/assets/js/app.js"></script>
</body>
</html>
